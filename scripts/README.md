# 系统部署与维护脚本

本目录包含宇树G1 EDU机器人管理系统的部署、配置与维护相关脚本。这些脚本旨在简化系统管理员的工作，提供标准化的部署和检查流程。

## 脚本列表

### 1. 服务器环境配置脚本 (server-setup.sh)

此脚本用于在新服务器上配置运行宇树G1 EDU机器人管理系统所需的环境。

**功能：**
- 检测并更新操作系统包
- 安装基础软件包(Nginx、Python3、Git等)
- 安装并配置Node.js
- 安装并配置MySQL数据库
- 设置防火墙规则
- 配置Nginx服务器
- 创建应用用户与目录
- 设置Python环境

**使用方法：**
```bash
sudo bash server-setup.sh
```

**适用系统：**
- Ubuntu 18.04+
- Debian 10+
- CentOS 7+

**注意事项：**
- 脚本需要以root或具有sudo权限的用户身份运行
- 建议在全新安装的服务器上运行
- MySQL安装后需手动执行安全配置(`sudo mysql_secure_installation`)

### 2. 部署检查脚本 (deployment-check.sh)

此脚本用于验证系统部署是否成功，检查各组件运行状态。

**功能：**
- 检查系统服务状态
- 验证网络端口监听情况
- 测试API端点响应
- 检查前端文件完整性
- 检查数据库连接
- 验证Python依赖安装情况
- 检查Nginx配置
- 分析系统日志
- 监控磁盘空间和内存使用

**使用方法：**
```bash
bash deployment-check.sh
```

**输出：**
- 通过项(✓ PASS)
- 警告项(⚠ WARN)
- 失败项(✗ FAIL)
- 最后会显示总结报告

**注意事项：**
- 需要在部署系统的服务器上运行
- 某些检查(如数据库连接)可能需要输入密码
- 如有失败项，请查看详细输出并根据提示修复问题

## 常见问题解决

如果部署检查脚本报告失败，请参考以下常见解决方案：

1. **服务未运行**：检查对应服务日志 `journalctl -u 服务名`
2. **端口未监听**：检查应用日志，确认服务启动成功
3. **数据库连接失败**：验证数据库凭据和权限设置
4. **前端文件缺失**：重新部署前端应用
5. **依赖安装问题**：执行 `pip install -r requirements.txt`

## 更新维护

这些脚本会随系统更新而更新，使用前请确保您拥有最新版本：

```bash
git pull origin main
```

如需定制脚本适应特定环境需求，请修改脚本中相应的配置变量部分。
